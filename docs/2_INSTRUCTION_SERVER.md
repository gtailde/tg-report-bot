# ІНСТРУКЦІЯ 2: Запуск на Сервері (Linux / Terminal)

Ця інструкція для тих, хто орендував VPS (сервер) і підключився до нього через консоль. Тут немає мишки та вікон, все робиться командами.

---

## Етап 1: Налаштування середовища

Виконайте ці команди по черзі, щоб встановити Git, Node.js та Process Manager (щоб бот не падав).

1.  **Оновлення списків пакетів:**
    ```bash
    sudo apt update
    ```

2.  **Встановлення Git та Node.js:**
    ```bash
    sudo apt install -y git nodejs npm
    ```

3.  **Перевірка версій:**
    ```bash
    node -v
    git --version
    ```

4.  **Встановлення PM2 (щоб бот працював 24/7):**
    ```bash
    sudo npm install -g pm2
    ```

---

## Етап 2: Клонування репозиторію

Завантажуємо код з GitHub.

1.  **Створюємо папку:**
    ```bash
    mkdir my-bot
    cd my-bot
    ```

2.  **Клонуємо:**
    ```bash
    git clone https://github.com/gtailde/tg-report-bot.git .
    ```

3.  **Встановлюємо залежності:**
    ```bash
    npm install
    ```

---

## Етап 3: Створення конфігурації (.env)

У терміналі створити файл можна через редактор nano або простою командою `echo`.

**Варіант через nano (зручніше):**

1.  Відкрити редактор:
    ```bash
    nano .env
    ```
2.  Вставити туди налаштування (натисніть праву кнопку миші для вставки):
    ```ini
    BOT_TOKEN=ваш_токен
    ADMIN_ID=ваш_айді
    GROUP_ID=-100ваш_айді_групи
    ```
3.  Зберегти:
    *   Натисніть `Ctrl + O`, потім `Enter`.
    *   Вийти: `Ctrl + X`.

---

## Етап 4: Запуск у фоновому режимі

Ми не використовуємо `npm start`, бо тоді бот вимкнеться при виході з сервера. Використовуємо **PM2**.

1.  **Запуск:**
    ```bash
    pm2 start index.js --name "tg-report-bot"
    ```

2.  **Збереження автозапуску (щоб сам вмикався після перезавантаження сервера):**
    ```bash
    pm2 save
    pm2 startup
    ```

Все готово! Бот працює.

---

## Корисні команди для керування на сервері

*   `pm2 status` — подивитись, чи працює бот (Online/Stopped).
*   `pm2 logs` — читати логи (що відбувається з ботом, помилки).
*   `pm2 restart tg-report-bot` — перезавантажити (після оновлення коду).
*   `pm2 stop tg-report-bot` — зупинити.

## Як оновити код на сервері

Коли на GitHub з'явилася нова версія:

1.  Зайдіть у папку: `cd my-bot`
2.  Стягніть зміни: `git pull`
3.  Оновіть бібліотеки (якщо треба): `npm install`
4.  Перезапустіть бота: `pm2 restart tg-report-bot`
